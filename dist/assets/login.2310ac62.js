import{d as I,s as f,u as V,bO as g,bF as h,r as x,P as C,bP as E,o as S,a as T,b as l,p as s,w as t,q as b,bC as D,v as R,bQ as q,bR as z,bL as i,k as G,bH as N,bG as P,bI as U,bS as K,bT as L,y as $,z as A,_ as H}from"./index.d775b048.js";/* empty css                     */const v=r=>($("data-v-2e08a9d8"),r=r(),A(),r),M={class:"login-wrap"},O={class:"ms-login"},Q=v(()=>l("div",{class:"ms-title"},"\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",-1)),j={class:"login-btn"},J=v(()=>l("p",{class:"login-tips"},"Tips : \u7528\u6237\u540D\u548C\u5BC6\u7801\u968F\u4FBF\u586B\u3002",-1)),W=I({__name:"login",setup(r){const{token:F,userInfo:c}=f(V()),{key:w}=f(g()),B=h(),a=x({name:"admin",password:"xhb19880130zz"}),y={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]};g();const d=C(),_=p=>{!p||p.validate(async e=>{if(e){const{data:o}=await q(a);if(F.value=o.token,o.success){const{data:u}=await z();u.code===200&&(c.value=u,i.success("\u767B\u5F55\u6210\u529F"),w.value=c.value.access,B.push("/"))}else i.error(o.message)}else return i.error("\u767B\u5F55\u5931\u8D25"),!1})};return E().clearTags(),(p,e)=>{const o=G,u=N,m=P,k=U;return S(),T("div",M,[l("div",O,[Q,s(k,{model:a,rules:y,ref_key:"login",ref:d,"label-width":"0px",class:"ms-content"},{default:t(()=>[s(m,{prop:"name"},{default:t(()=>[s(u,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=n=>a.name=n),placeholder:"username"},{prepend:t(()=>[s(o,{icon:b(K)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),s(m,{prop:"password"},{default:t(()=>[s(u,{type:"password",placeholder:"password",modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=n=>a.password=n),onKeyup:e[2]||(e[2]=D(n=>_(d.value),["enter"]))},{prepend:t(()=>[s(o,{icon:b(L)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),l("div",j,[s(o,{type:"primary",onClick:e[3]||(e[3]=n=>_(d.value))},{default:t(()=>[R("\u767B\u5F55")]),_:1})]),J]),_:1},8,["model"])])])}}});const ee=H(W,[["__scopeId","data-v-2e08a9d8"]]);export{ee as default};
